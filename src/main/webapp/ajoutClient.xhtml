<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">


<ui:composition template="/WEB-INF/tags/layout.xhtml">
	<ui:define name="content">
		<div id="container">


			<h:messages globalOnly="true" />

			<h:form id="form" style="margin-top: 10px;">
				<p:panelGrid columns="3" layout="grid">
					<f:facet name="header">
						<p:row>
							<p:column>Ajouter un client</p:column>
						</p:row>
					</f:facet>
					<h:outputLabel>Prénom :</h:outputLabel>
					<p:inputText value="#{customer.firstname}" id="prenom"
						required="true"
						requiredMessage="Le prénom du client doit être renseigné."
						maxlength="30"
						validatorMessage="Seules les lettres (aA-zZ) sont autorisées.">
						<f:validateRegex
							pattern="^[a-zA-ZáàâäãåçéèêëíìîïñóòôöõúùûüýÿæœÁÀÂÄÃÅÇÉÈÊËÍÌÎÏÑÓÒÔÖÕÚÙÛÜÝŸÆŒ\s-]+$" />
						<f:validateLength minimum="2" />
					</p:inputText>
					<h:message for="prenom" />

					<h:outputLabel>Nom :</h:outputLabel>
					<p:inputText value="#{customer.name}" id="nom" required="true"
						requiredMessage="Le nom du client doit être renseigné."
						maxlength="30"
						validatorMessage="Seules les lettres (aA-zZ) sont autorisées.">
						<f:validateRegex
							pattern="^[a-zA-ZáàâäãåçéèêëíìîïñóòôöõúùûüýÿæœÁÀÂÄÃÅÇÉÈÊËÍÌÎÏÑÓÒÔÖÕÚÙÛÜÝŸÆŒ\s-]+$" />
						<f:validateLength minimum="2" />
					</p:inputText>
					<h:message for="nom" />

					<h:outputLabel>Email :</h:outputLabel>
					<p:inputText value="#{customer.email}" id="email" required="true"
						requiredMessage="L'E-Mail du client doit être renseigné."
						maxlength="40"
						validatorMessage="Entrer un format d'adresse e-mail valide (ex: client@proxibanque.fr)">

						<f:validateRegex
							pattern="^([_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{1,6}))?$" />
					</p:inputText>
					<h:message for="email" />

					<h:outputLabel>Téléphone :</h:outputLabel>
					<p:inputText value="#{customer.tel}" id="tel" required="true"
						requiredMessage="Le numéro de téléphone du client doit être renseigné."
						maxlength="10"
						validatorMessage="Seuls les chiffres sont autorisés.">
						<f:validateRegex pattern="^[_0-9]+$" />
					</p:inputText>
					<h:message for="tel" />

					<h:outputLabel>Adresse :</h:outputLabel>
					<p:inputText value="#{customer.address}" id="adresse"
						required="true"
						requiredMessage="L'adresse du client doit être renseignée."
						maxlength="40" />
					<h:message for="adresse" />

					<h:outputLabel>Code Postal :</h:outputLabel>
					<p:inputText value="#{customer.cp}" id="cp" required="true"
						requiredMessage="Le code postal du client doit être renseigné."
						maxlength="40" />
					<h:message for="cp" />

					<h:outputLabel>Ville :</h:outputLabel>
					<p:inputText value="#{customer.town}" id="ville" required="true"
						requiredMessage="La ville du client doit être renseignée."
						maxlength="40" />
					<h:message for="ville" />

					<p:commandButton id="validerAjoutClient" value="Valider"
						icon="ui-icon-disk"
						action="#{customerController.addCustomer(customer)}" />

				</p:panelGrid>
			</h:form>
<!-- 					<p:commandButton id="validerAjoutClient" value="Valider" -->
<!-- 						ajax="false" icon="ui-icon-disk" -->
<!-- 						action="#{customerController.addCustomer(customer)}" /> -->

			<div style="clear: both;"></div>

			<p>
				<p:link outcome="listeClients.xhtml"
					value="Retour à la liste clients"></p:link>
			</p>

		</div>
	</ui:define>
</ui:composition>
</html>
